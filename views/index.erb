<!DOCTYPE html>
<html>
<head>
	<title>Play mastermind</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<div class="active">
		<%= session[:code] %>
		<p>Tries left : <%= session[:tries] %></p>
		<form method='post' action='/'>
			<div class="circle inactive" id="1"></div>
			<div class="circle inactive" id="2"></div>
			<div class="circle inactive" id="3"></div>
			<div class="circle inactive" id="4"></div>
			<input type="submit" name="submit">	
		</form>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript" src="/script.js"></script>
	
		<% unless feedback.nil? || feedback.empty? %>
			<p><%= feedback %></p>
		<% end %>

		<% unless error.nil? || error.empty? %>
			<p style="color:red"> <%= error %> </p>
		<% end %>
	</div>

	<div class="history">
		<% session[:guess_history].each_with_index do |guess, i| %>
		<div class="guess">
			<% guess.split("").each do |digit| %>
				<div class="number<%= digit %> past circle"></div>
			<% end %>
			<div class="feedback"><%= session[:feedback_history][i] %></div>
		</div>
		<% end %>
	</div>
</body>
</html>